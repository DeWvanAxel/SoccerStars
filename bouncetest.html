<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>hello phaser!</title>
        <script src="phaser.min.js"></script>

    </head>
    <body>


    <script type="text/javascript">



  var config = {
    type: Phaser.AUTO,
    width: 1200,
    height: 800,
    physics: {
        default: 'matter',
        matter: {
            gravity: { y: 0 },
            //frictionAir : 0.0175,
            debug: true
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
    };

    var game = new Phaser.Game(config);

function preload() {
    console.log("preload");
    this.load.image('soepino', 'sprites/soepino.png');
    this.load.image('ambrosius', 'sprites/ambrosius.png');
    this.load.image('football', 'sprites/football.png');

    this.load.image('topwall', 'sprites/tb.png');
    this.load.image('bottomwall', 'sprites/tb.png');
    this.load.image('leftwall', 'sprites/lr.png');
    this.load.image('rightwall', 'sprites/lr.png');
    this.load.image('leftgoal', 'sprites/goal.png');
    this.load.image('rightgoal', 'sprites/goal.png');

    //game.load.image('disk', 'sprites/soepino.png');

}

var ball1;
var ball2;
var disk;

function create() {

    this.matter.world.setBounds();
    console.log("in create");
    topwall = this.matter.add.image(600,75, 'topwall').setStatic(true);
    lefttopwall = this.matter.add.image(125,200, 'leftwall').setStatic(true);
    righttopwall = this.matter.add.image(1075,200, 'rightwall').setStatic(true);
    leftbottomwall = this.matter.add.image(125,600, 'leftwall').setStatic(true);
    rightbottomwall = this.matter.add.image(1075,600, 'rightwall').setStatic(true);
    bottomwall = this.matter.add.image(600,725, 'bottomwall').setStatic(true);
    leftgoal = this.matter.add.image(112,400, 'leftgoal').setStatic(true);
    rightgoal = this.matter.add.image(1088,400, 'rightgoal').setStatic(true);

    bottomwall.setBounce(0.1);
    topwall.setBounce(0.1);
    leftbottomwall.setBounce(0.1);
    rightbottomwall.setBounce(0.1);
    lefttopwall.setBounce(0.1);
    righttopwall.setBounce(0.1);

    //ball = this.matter.add.image(600,400, 'football').setBody({type:"circle", radius:20});
    player1 = this.matter.add.image(300,400, 'soepino').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player2 = this.matter.add.image(400,400, 'ambrosius').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player3 = this.matter.add.image(500,400, 'soepino').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player4 = this.matter.add.image(600,400, 'ambrosius').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player5 = this.matter.add.image(700,400, 'soepino').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player6 = this.matter.add.image(800,400, 'ambrosius').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player7 = this.matter.add.image(900,400, 'soepino').setBody({type:"circle", radius:37}).setVelocity(0,15);
    player8 = this.matter.add.image(1000,400, 'ambrosius').setBody({type:"circle", radius:37}).setVelocity(0,15);
    //player9 = this.matter.add.image(820,400, 'soepino').setBody({type:"circle", radius:37}).setVelocity(0,20);
    //player10 = this.matter.add.image(880,400, 'ambrosius').setBody({type:"circle", radius:37}).setVelocity(0,20);
    
    player1.setBounce(0.1);
    player2.setBounce(0.2);
    player3.setBounce(0.3);
    player4.setBounce(0.4);
    player5.setBounce(0.7);
    player6.setBounce(0.7);// we concluded that we want to go for the settings of this little guy
    player7.setBounce(0.7);
    player8.setBounce(0.7);
    player5.setFrictionAir(0.015);
    player6.setFrictionAir(0.0175); // and this setting!
    player7.setFrictionAir(0.02); 
    player8.setFrictionAir(0.0225);



    this.matter.world.on("collisionstart", checkForGoals);

}

function update () {


    //game.physics.arcade.collide(ball1, disk);
    //game.physics.arcade.collide(ball2, disk);
    
}

 function checkForGoals(pairs){
    console.log(pairs);
    //if(object1.body.collisionFilter.category == goals){
    //    console.log("GOOOOOAAAAAAL!!!");
    //}


}

    </script>

    </body>
</html>